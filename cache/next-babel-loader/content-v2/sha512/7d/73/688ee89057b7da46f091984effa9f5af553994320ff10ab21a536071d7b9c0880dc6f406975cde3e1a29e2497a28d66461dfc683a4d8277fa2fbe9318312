{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Head from \"next/head\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport jwt from \"njwt\";\nimport { Button, Form, Spinner } from \"react-bootstrap\";\nimport axios from \"axios\";\nexport default function Dashboard() {\n  const {\n    0: blog,\n    1: setBlog\n  } = useState(\"\");\n  const {\n    0: validated,\n    1: setValidated\n  } = useState(false);\n  const {\n    0: tag,\n    1: setTag\n  } = useState(\"\");\n  const {\n    0: buttonLoading,\n    1: setButtonLoading\n  } = useState(false);\n  const {\n    0: username,\n    1: setUsername\n  } = useState(\"\");\n  const {\n    0: titles,\n    1: setTitles\n  } = useState(\"\");\n  const {\n    0: imageDescription,\n    1: setImageDescription\n  } = useState(\"\");\n  const {\n    0: dataUri,\n    1: setDataUri\n  } = useState(\"\");\n\n  const fileToDataUri = file => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onload = event => {\n      resolve(event.target.result);\n    };\n\n    reader.readAsDataURL(file);\n  });\n\n  const onChange = file => {\n    if (!file) {\n      setDataUri(\"\");\n      return;\n    }\n\n    fileToDataUri(file).then(dataUri => {\n      setDataUri(dataUri);\n    });\n  };\n\n  const handleSubmit = event => {\n    const form = event.currentTarget;\n\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n      setValidated(true);\n    } else {\n      event.preventDefault();\n      setButtonLoading(true);\n      axios.post(\"/api/new/post\", {\n        blog: blog,\n        image: dataUri,\n        title: titles,\n        tag: tag,\n        imageDescription: imageDescription,\n        username: username\n      }).then(E => setButtonLoading(false));\n    }\n  };\n\n  const router = useRouter();\n  const {\n    0: value,\n    1: setValue\n  } = useState(\"\");\n  useEffect(() => {\n    if (localStorage.getItem(\"userData\")) {\n      jwt.verify(localStorage.getItem(\"userData\"), \"ArnavGod30080422020731017817087571441\", \"HS512\", function (err, verifiedJwt) {\n        if (err) {\n          router.push(\"/\");\n        }\n      });\n    } else {\n      router.push(\"/\");\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"storage\", () => {\n      if (localStorage.getItem(\"userData\")) {\n        jwt.verify(localStorage.getItem(\"userData\"), \"ArnavGod30080422020731017817087571441\", \"HS512\", function (err, verifiedJwt) {\n          if (err) {\n            router.push(\"/\");\n          }\n        });\n      } else {\n        router.push(\"/\");\n      }\n    });\n  }, []);\n\n  const handleEditorChange = (content, editor) => {\n    setBlog(content);\n  };\n\n  {\n    \"\";\n  }\n  const description = \"Have thoughts and mind ? Just share them with everyone by posting it here.\";\n  const title = \"Infinity | Dashboard\";\n  const url = \"https://www.arnavgupta.net/dashboard\";\n  const images = \"https://www.arnavgupta.net/logo.png\";\n  const alts = \"logo of the infinity website\";\n  const imagec = \"https://www.arnavgupta.net/logo.png\";\n  const altc = \"logo of the infinity website\";\n  const tags = \"blog, infinity, passionate bloggers, blogs, passionate, write, read, post,dashboard, live thousand lives in one world,new, blog, new blog\";\n  const card = \"summary_large_image\";\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"script\", {\n        type: \"application/ld+json\",\n        dangerouslySetInnerHTML: {\n          __html: JSON.stringify({\n            \"@context\": \"https://schema.org\",\n            \"@type\": \"Organization\",\n            url: url,\n            logo: imagec\n          })\n        }\n      }), /*#__PURE__*/_jsx(\"script\", {\n        type: \"application/ld+json\",\n        dangerouslySetInnerHTML: {\n          __html: JSON.stringify({\n            \"@context\": \"http://schema.org\",\n            \"@type\": \"WebSite\",\n            colleague: [],\n            image: imagec,\n            name: \"Arnav Gupta\",\n            url: url,\n            sameAs: [\"https://www.youtube.com/channel/UCzzfqCy-j9XZA5KNosqzh6w\", \"https://www.instagram.com/infinity.newtech/\", \"https://www.linkedin.com/in/arnav-gupta-0922341a9/\", \"https://www.facebook.com/infinity.newTechnology\", \"https://twitter.com/infinityNewTech\"]\n          })\n        }\n      }), /*#__PURE__*/_jsx(\"title\", {\n        children: title\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: description\n      }, \"1\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"robots\",\n        content: \"index, follow\"\n      }, \"2\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:card\",\n        content: \"summary\"\n      }, \"3\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:site\",\n        content: \"@infinityNewTech\"\n      }, \"4\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:creator\",\n        content: \"@infinityNewTech\"\n      }, \"5\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:description\",\n        content: description\n      }, \"6\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:image\",\n        content: imagec\n      }, \"7\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:image:alt\",\n        content: altc\n      }, \"8\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:url\",\n        content: url\n      }, \"9\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:title\",\n        content: title\n      }, \"10\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:description\",\n        content: description\n      }, \"11\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image\",\n        content: imagec\n      }, \"12\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image:alt\",\n        content: altc\n      }, \"13\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:title\",\n        content: title\n      }, \"14\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:type\",\n        content: \"website\"\n      }, \"15\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:url\",\n        content: url\n      }, \"16\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:locale\",\n        content: \"en_IN\"\n      }, \"17\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:site_name\",\n        content: \"Infinity\"\n      }, \"19\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:description\",\n        content: description\n      }, \"20\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"fb:app_id\",\n        content: \"478626783320499\"\n      }, \"21\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:region\",\n        content: \"IN\"\n      }, \"22\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"copyright\",\n        content: \"Infinity\"\n      }, \"23\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"keywords\",\n        content: tags\n      }, \"24\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"url\",\n        content: url\n      }, \"25\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:locale\",\n        content: \"en_IN\"\n      }, \"26\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1\"\n      }, \"27\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"theme-color\",\n        content: \"#000000\"\n      }, \"28\"), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"apple-touch-icon\",\n        type: \"image/png\",\n        href: images\n      }, \"29\"), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"manifest\",\n        href: \"/manifest.json\"\n      }, \"30\"), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\",\n        alt: alts\n      }, \"31\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:title\",\n        content: title\n      }, \"32\")]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      style: {\n        width: \"97%\",\n        marginLeft: \"calc(calc(100% - 97%) / 2)\"\n      },\n      children: /*#__PURE__*/_jsxs(Form, {\n        noValidate: true,\n        validated: validated,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxs(Form.Group, {\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsx(Form.Label, {\n            children: \"Title\"\n          }), /*#__PURE__*/_jsx(Form.Control, {\n            type: \"text\",\n            placeholder: \"Title\",\n            required: true,\n            value: titles,\n            onChange: e => setTitles(e.target.value)\n          })]\n        }), /*#__PURE__*/_jsxs(Form.Group, {\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsx(Form.Label, {\n            children: \"Blog\"\n          }), /*#__PURE__*/_jsx(Editor, {\n            initialValue: \"<p>This is the initial content of the editor</p>\",\n            apiKey: \"pj9jgbi5jyqo7yzpy2wllqiw91bjvhm43wc8ug5ttzxg6wug\",\n            init: {\n              height: 600,\n              menubar: false,\n              plugins: [\"advlist autolink lists link image charmap print preview anchor\", \"searchreplace visualblocks code fullscreen\", \"insertdatetime media table paste code help wordcount\"],\n              toolbar: \"undo redo | formatselect | bold italic backcolor | \\\r\n             alignleft aligncenter alignright alignjustify | \\\r\n             bullist numlist outdent indent | removeformat | help\",\n              branding: false\n            },\n            onEditorChange: handleEditorChange\n          })]\n        }), /*#__PURE__*/_jsxs(Form.Group, {\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsx(Form.Label, {\n            children: \"Tags\"\n          }), /*#__PURE__*/_jsx(Form.Control, {\n            type: \"text\",\n            placeholder: \"Tags\",\n            required: true,\n            value: tag,\n            onChange: e => setTag(e.target.value)\n          })]\n        }), /*#__PURE__*/_jsxs(Form.Group, {\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsx(Form.Label, {\n            children: \"Image Description\"\n          }), /*#__PURE__*/_jsx(Form.Control, {\n            type: \"text\",\n            placeholder: \"Image Description\",\n            required: true,\n            value: imageDescription,\n            onChange: e => setImageDescription(e.target.value)\n          })]\n        }), /*#__PURE__*/_jsxs(Form.Group, {\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsx(Form.Label, {\n            children: \"Image\"\n          }), /*#__PURE__*/_jsx(Form.Control, {\n            onChange: event => onChange(event.target.files[0] || null),\n            type: \"file\",\n            accept: \".png, .jpg, jpeg, .svg, .webp\",\n            placeholder: \"Image\",\n            required: true\n          })]\n        }), /*#__PURE__*/_jsx(Form.Group, {\n          children: dataUri ? /*#__PURE__*/_jsx(\"img\", {\n            src: dataUri,\n            onError: () => setDataUri(\"\"),\n            style: {\n              width: \"100%\"\n            }\n          }) : /*#__PURE__*/_jsx(\"img\", {\n            src: \"/default.jpg\",\n            onError: () => setDataUri(\"\"),\n            style: {\n              width: \"100%\"\n            }\n          })\n        }), /*#__PURE__*/_jsx(Form.Group, {\n          children: /*#__PURE__*/_jsxs(Button, {\n            type: \"submit\",\n            style: {\n              width: \"100%\",\n              border: \"none\"\n            },\n            children: [buttonLoading ? /*#__PURE__*/_jsx(Spinner, {\n              size: \"sm\",\n              animation: \"border\"\n            }) : \"\", \" \", \"POST\"]\n          })\n        })]\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}