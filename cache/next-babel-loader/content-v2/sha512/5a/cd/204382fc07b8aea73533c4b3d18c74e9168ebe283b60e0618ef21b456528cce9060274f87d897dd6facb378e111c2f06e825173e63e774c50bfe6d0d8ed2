{"ast":null,"code":"import { connectToDatabase } from \"../../../util/mongodb\";\nimport bcrypt from \"bcryptjs\";\nexport default (async (req, res) => {\n  if (req.method == \"POST\") {\n    const {\n      db\n    } = await connectToDatabase();\n    let user = await db.collection(\"userData\").find({\n      username: req.body.username\n    }).limit(1).count();\n    let userData = await db.collection(\"userData\").find({\n      username: req.body.username\n    }).limit(1).toArray();\n\n    if (user == 0) {\n      res.status(202).send(\"username\");\n    } else {\n      bcrypt.compare(req.body.password, userData[0].password, function (err, result) {\n        if (result) {\n          res.status(200).send(userData);\n        } else {\n          res.status(202).send(\"password\");\n        }\n      });\n    }\n  } else {\n    res.status(202).json(\"error\");\n  }\n});","map":null,"metadata":{},"sourceType":"module"}